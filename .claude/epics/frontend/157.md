# 任务002 - 设计系统和基础组件

## 任务信息
```yaml
id: frontend-157
title: 设计系统和基础组件
epic: frontend
category: ui
priority: high
status: pending
assigned_to: TBD
estimated_hours: 28
actual_hours: 0
created_date: 2025-09-22T05:10:33Z
updated_date: 2025-09-22T05:10:33Z
depends_on: [156]
parallel: true
sprint: 1
```

## 描述

建立ShareStack前端的设计系统和通用组件库，包括shadcn/ui深度集成、设计令牌系统、主题配置以及核心UI组件开发。构建一套一致、可复用、易维护的组件体系，为整个应用的界面开发提供坚实基础。

## 验收标准

1. **shadcn/ui集成配置**
   - 完成shadcn/ui CLI工具配置
   - 安装核心UI组件库
   - 自定义组件主题和样式变量
   - 建立组件导入和使用规范

2. **设计令牌系统**
   - 定义颜色、字体、间距等设计令牌
   - 配置深色/浅色主题切换
   - 建立响应式设计断点系统
   - 创建动画和过渡效果库

3. **核心组件开发**
   - Button、Input、Card等基础组件
   - Modal、Dropdown、Toast等交互组件
   - Loading、Empty、Error等状态组件
   - 数据展示组件（Table、List等）

4. **组件文档和示例**
   - 每个组件包含使用文档
   - 提供完整的Props API说明
   - 创建组件使用示例和最佳实践
   - 建立组件预览和调试页面

5. **样式规范和工具**
   - 建立CSS类命名规范
   - 配置Tailwind CSS自定义工具类
   - 创建样式调试和检查工具
   - 设置组件样式测试

## 技术实现要点

### 1. shadcn/ui配置
```bash
# 初始化shadcn/ui
npx shadcn-ui@latest init

# 安装核心组件
npx shadcn-ui@latest add button
npx shadcn-ui@latest add input
npx shadcn-ui@latest add card
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add dropdown-menu
npx shadcn-ui@latest add toast
npx shadcn-ui@latest add table
npx shadcn-ui@latest add sheet
npx shadcn-ui@latest add accordion
npx shadcn-ui@latest add tabs
```

### 2. 设计令牌配置
```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          900: '#1e3a8a',
        },
        secondary: {
          50: '#f8fafc',
          500: '#64748b',
          900: '#0f172a',
        },
        success: '#10b981',
        warning: '#f59e0b',
        error: '#ef4444',
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        mono: ['JetBrains Mono', 'monospace'],
      },
      spacing: {
        '18': '4.5rem',
        '88': '22rem',
      },
      animation: {
        'fade-in': 'fadeIn 0.5s ease-in-out',
        'slide-up': 'slideUp 0.3s ease-out',
      },
    },
  },
}
```

### 3. 核心组件架构
```typescript
// src/components/ui/index.ts
export { Button } from './button'
export { Input } from './input'
export { Card, CardHeader, CardContent, CardFooter } from './card'
export { Dialog, DialogContent, DialogHeader, DialogTitle } from './dialog'
export { Loading } from './loading'
export { EmptyState } from './empty-state'
export { ErrorBoundary } from './error-boundary'

// 组件Props接口规范
interface BaseComponentProps {
  className?: string
  children?: React.ReactNode
  'data-testid'?: string
}
```

### 4. 主题系统
```typescript
// src/lib/theme.ts
export type Theme = 'light' | 'dark'

export const themeConfig = {
  light: {
    background: 'hsl(0 0% 100%)',
    foreground: 'hsl(222.2 84% 4.9%)',
    primary: 'hsl(221.2 83.2% 53.3%)',
    secondary: 'hsl(210 40% 96%)',
  },
  dark: {
    background: 'hsl(222.2 84% 4.9%)',
    foreground: 'hsl(210 40% 98%)',
    primary: 'hsl(217.2 91.2% 59.8%)',
    secondary: 'hsl(217.2 32.6% 17.5%)',
  },
}
```

### 5. 组件目录结构
```
src/components/
├── ui/                     # shadcn/ui基础组件
│   ├── button.tsx
│   ├── input.tsx
│   ├── card.tsx
│   └── ...
├── features/              # 业务功能组件
│   ├── auth/
│   ├── content/
│   └── payment/
├── layout/                # 布局组件
│   ├── header.tsx
│   ├── sidebar.tsx
│   └── footer.tsx
└── common/                # 通用组件
    ├── loading.tsx
    ├── error-boundary.tsx
    └── empty-state.tsx
```

## Definition of Done

- [ ] shadcn/ui成功配置，所有核心组件可正常使用
- [ ] 设计令牌系统建立完成，主题切换功能正常
- [ ] 至少15个核心UI组件开发完成并测试通过
- [ ] 所有组件支持TypeScript类型检查，无类型错误
- [ ] 组件样式响应式适配，支持移动端和桌面端
- [ ] 深色/浅色主题切换功能完整实现
- [ ] 每个组件包含完整的Props文档和使用示例
- [ ] 组件库预览页面开发完成，便于开发和调试
- [ ] 建立组件测试规范，关键组件包含单元测试
- [ ] 样式系统性能优化，CSS打包体积控制在合理范围

## 注意事项

1. 严格遵循shadcn/ui的组件开发规范
2. 确保所有组件支持无障碍访问（a11y）
3. 组件API设计要考虑易用性和扩展性
4. 建立清晰的组件版本管理和更新机制
5. 预留自定义样式覆盖的接口和文档

## 相关资源

- [shadcn/ui官方文档](https://ui.shadcn.com/)
- [Tailwind CSS官方文档](https://tailwindcss.com/)
- [Radix UI组件库](https://www.radix-ui.com/)
- [设计系统最佳实践](https://www.designsystems.com/)
